---
title: "CS50 4주차 - 재귀"
excerpt: "재귀 개념을 알아보자."

categories:
  - TIL
tags:
  - CS50
last_modified_at: 2021-02-05T01:07:00-13:00
---

## 재귀 개념을 알아보자.

이전 게시글에서 정렬 알고리즘인 버블 정렬과 선택 정렬을 설명했다. 

마지막으로 다룰 정렬 알고리즘인 병합 정렬을 이해하기 위해서는 재귀라는 개념을 이해해야 한다. 

재귀 개념을 알아보자!

### 재귀


우리는 main안에서 프로그램을 작성하면서 필요한 순간에 함수를 호출하여 사용한다.

그런데, 다시 생각해보면 main역시 함수이다. 우리는 main이라는 함수 안에서 또 다른 함수를 사용한 것이다
.
그렇다면, 함수가 본인 스스로를 호출해서 사용할 수 있지 않을까? 

재귀(Recursion)가 바로 함수가 본인 스스로를 호출해서 사용하는 것이다. 

피라미드 모양을 출력하는 코드로 재귀 개념을 이해해보자. 

아래와 같은 피라미드 모양을 출력하기 위해 보통 for loop를 사용한다.


![](https://imageshack.com/i/pn0Tp7Coj){: .align-center}


for loop를 사용하여 이 피라미드 모양을 출력하는 코드를 작성하면 아래와 같다. 


![](https://imageshack.com/i/poiG7pavj){: .align-center}


위와 같이 높이를 사용자로부터 입력 받고, 중첩 루프를 통해 피라미드를 출력해주는 draw함수를 정의한다.

이 코드를 실행시키면 아래와 같은 결과가 나온다.

\\#
\\##
\\###
\\####

하지만, 재귀를 안다면 꼭 피라미드를 출력하기 위해 중첩 루프(i,j)를 쓸 필요가 없다. 사실 바깥 쪽 루프(i)는 안 쪽 루프(j)에서 수행하는 내용을 반복하도록 하는 것일 뿐이기 때문이다. 


![](https://imageshack.com/i/pn0Tp7Coj){: .align-center}


위 피라미드를 보면 일종의 규칙을 눈치챌 수 있다. 바로, 높이가 4인 피라미드를 쌓기 위해서는 (높이-1)이 반복된다는 점이다. 4개의 블록 위에 (4-1)인 3개의 블록이 올려지고, 그 위에 2개의 블록이 올려지고. 결국 하나가 올려지는 식이다.

이를 바로 재귀적 정의라고 한다. 눈에 보이는 혹은 가상의 물체의 구조를 그 물체의 자체를 이용해서 설명하는 것을 말한다. 

이렇게 재귀 개념을 적용하여 코드를 적으면 아래와 같이 된다.



![](https://imageshack.com/i/pn0Tp7Coj){: .align-center}
![](https://imageshack.com/i/pnxilWiHj){: .align-center}


h라는 높이를 사용자로부터 받았을 때, draw함수를 만들고, h-1만큼의 블록을 draw 함수안에서 계속 호출하여 재귀적으로 반복한다. 그 후에 마지막으로 h만큼의 #을 출력한다. 

그리고, 내부적으로 호출된 draw함수를 따라 지속적으로 h-1을 반복하면 h의 값이 음수가 되기 때문에 h==0이 되었을 때 아무것도 출력하지 않도록 조건문을 추가해준다. 

이렇게 재귀를 사용하면 중첩 루프를 사용하지 않고도 하나의 함수로 동일한 작업을 수행할 수 있다. 

다음 게시물에서 병합 정렬을 알아보자. 


