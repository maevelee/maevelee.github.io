---
title: "CS50 5주차 - 문자열"
excerpt: "진짜 문자열을 알아보자."

categories:
  - TIL
tags:
  - CS50
last_modified_at: 2021-02-10T01:41:00-05:00
---

## 문자열
  
C언어의 자료형 중 하나인 문자열은 string이다.  
말 그대로 문자의 배열이자 나열이다. 우리는 이 string으로 "EMMA"와 같은 문자열을 저장했다.
  
근데, 이 string은 사실 C에서 존재하지 않는 자료형이다.  low-level로 들여다보면 string은 다른 타입으로 저장되어있다.

문자열이 실제로 메모리상에 어떻게 저장되어 있는지, 문자열을 손쉽게 저장하고 접근하기 위한 방법은 무엇인지 배워보자.

- - -
  
우리는 여태껏 문자열을 저장하기 위해 string이라는 자료형을 사용했다. 나도 당연히 C에서 string 자료형이 있는 줄 알았다. 파이썬은 string이라고 하니까, C도 그런 줄 알았다.  

근데 사실 C에서 문자열을 저장하기 위해선 **Cha**r을 써야한다고..  

  
...      
  
![](https://drive.google.com/uc?id=1trPZuQla7nMfKiyWB11JtFxgB_oMjZGl)  
  
한다.  
  
지금까지 써 왔던 이 string자료형은 사실 cs50 라이브러리에서 제공한 도구일 뿐, C에 원래 있던 자료형이 아니라고 한다.

악마같은 포인터 겨우 이해했더니 이제 문자열이 문자열이 아니라고 뒤통수까지 치다니.  

컴퓨터는 역시 어렵다.

그래서 왜 string이 char로 표현되는지 한 번 살펴보자.  

```c

string s = "EMMA";

```

우리가 위 코드와 같이 변수 s에 "EMMA"라는 값을 저장한다고 생각해보자.  

![](https://drive.google.com/uc?id=1yddb04I6XRluLYhD8v397P7mGN_UeOoT)  
  
우리가 저장한 EMMA는 메모리 상에 이렇게 저장될 것이다.  
문자열은 결국 **문자의 배열**이기 때문에 s[0], s[1], s[2]와 같이 하나의 문자가 배열의 한 부분을 나타낸다.  
가장 마지막의 \0은 0으로 이루어진 바이트로, 문자열의 끝을 표시하는 약속이다.  
  
![](https://drive.google.com/uc?id=170o-6rMnFl_W-50SzXw8Sta280SjWgnN)  
  
여기서 변수s는 결국 이러한 문자열을 가리키는 포인터가 된다.  
더 상세히는 문자열의 가장 첫번째 문자, 즉, 주소 0x123에 있는 s[0]을 가리키게 된다.  

컴퓨터는 문자열의 첫 번째 글자만 포인팅해주면 문자열의 마지막에 위치한 널 종단 문자를 마주칠 때까지 루프를 돌면서 끝을 알아낸다.  
널 종단 문자가 없다면 어디가 문자열의 끝인지 알 수 없어서 무한루프를 돌 것이다.  

```c
char *s = "EMMA";
```

결국 문자열은 문자의 배열 중에서 첫 번째 글자를 포인팅 하는 것이므로, 문자열 출력 코드는 위와 같다.  

포인터 변수 s가 가리키고 있는 것이 char(문자) 자료형이며, "EMMA"를 문자열을 저장하는 것이다.  

이렇게 저장하면 컴퓨터는 EMMA라는 문자열의 가장 첫 번째 값을 저장한다. 
