---
title: "SQL 2주차 - SQL 기본"
excerpt: "SQL 실행 방법 및 기본 명령어를 알아보자."
categories:
  - lectures
tags:
  - sql
last_modified_at:
---

## SQL 응애
sql... 해야겠지
하자

## SQL 실행 및 환경설정
  

mysql 8.0 command line client를 실행한 뒤 설치 시 설정한 비밀번호를 입력한다.  
![](https://drive.google.com/uc?id=1i1gWbrBMaw9EP9DfMZhSx4Ivsgw0wQZJ)
정상적으로 실행하면 위와 같다.  

- - -
- SQL 클라이언트 종료

클라이언트 종료 명령문을 입력한다.

ex) EXIT, QUIT, CTRL + D... etc

- SQL 종결기호

SQL 명령어 종결 기호는 ;이다.

```sql
SOURCE dbdata.sql;
```

- 종결 기호 변경

DELIMITER 변경을원하는기호

```sql
DELIMITER //
```

- 데이터베이스 생성

CREATE DATABASE 데이터베이스명;

```sql
CREATE DATABASE dbplus;
```

- 데이터베이스 목록 확인

```sql
SHOW DATABASE;
```

- 데이터베이스 삭제
1. 그냥 삭제  
DROP DATABASE 데이터베이스명;

```sql
DROP DATABASE dbplus;
```

2. 존재 여부 확인 후 삭제

DROP DATABASE IF EXISTS 삭제할 데이터베이스명;

```sql
DROP DATABASE IF EXISTS dbplus;
```

- 작업하고자 하는 데이터베이스 선택
1. USE 데이터베이스명

```sql
USE dbplus;
```

2. \u 데이터베이스명

```sql
\u dbplus;
```

- 현재 데이터베이스 확인

```sql
SELECT DATABASE();
```

![](https://drive.google.com/uc?id=14prK85t4ZrfzTZncN-DfH1BTWHuhcfPw)

위처럼 데이터베이스가 확인된다.

- SQL 쿼리 실행 및 방법(1)

1. sql 파일을 다운로드하여 C:\Program Files\MySQL\MySQL Server 8.0\bin 에 복사  

2. SOURCE 명령어를 사용하여 저장 파일 읽기  
SOURCE 파일명;
```sql
SOURCE dbdata.sql;
```

- SQL 쿼리 실행 및 방법(2)

1. sql 파일을 메모장으로 열기  

2. 쿼리 전체 선택(Ctrl+a) 후, 복사  

3. 프롬프트 창에 붙여넣기  

---

### SQL 기본 명령어

- 테이블 및 인덱스 확인

```sql
SHOW TABLES; → 테이블 이름 목록 조회
SHOW TABLE STATUS; → 테이블 상세 정보 조회
SHOW INDEX FROM 테이블명; → 테이블 인덱스 정보 조회
```

- 테이블 구조 확인 (상세 컬럼 정보 확인)

```sql
DESC 테이블명; 
SHOW COLUMNS FROM 테이블명;
```

- 모든 행과 열 선택

```sql
SELECT * FROM 테이블명;
```
SQL의 기본 정렬값은 오름차순이다.

- 특정 컬럼 선택
```sql
SELECT 컬럼명, 컬럼명
FROM 테이블명;
```
다중 컬럼 선택시 ','로 컬럼을 구분한다.

- 모든 컬럼 선택
```sql
SELECT *
FROM DEPT;
```

- 컬럼에 별칭 사용

SELECT 컬럼명 AS 별칭

```sql
SELECT DEPTNO/10 AS NUMBER, DNAME AS 이름
FROM DEPT;
```

- 중복제거

DISTICT 컬럼명;

```sql
SELECT JOB, DEPTNO
FROM EMP;  
```

![](https://drive.google.com/uc?id=1GHkOcwO3xsgOPks3XDEaGXpvrXuuX4tU)

```sql
SELECT DISTINCT JOB, DEPTNO
FROM EMP;
```
![](https://drive.google.com/uc?id=1Jlqg494xR4KvWdZ5-2-aueK_6SO2ZAls)

잘 제거되었음을 확인할 수 있다.

---

### SQL에서의 정렬

SQL 정렬 기본값은 오름차순이지만, 이를 변경할수도 있다.  
정렬문은 SQL 문의 가장 뒤에 작성한다. 

만약 NULL값이 있을 경우 오름차순에서는 가장 처음에, 내림차순에서는 가장 나중에 출력된다.

ASC → 오름차순

DESC → 내림차순

ORDER BY 컬럼 (ASC | DESC); 

```sql
SELECT ENAME, JOB
FROM EMP
ORDER BY JOB;
```
![](https://drive.google.com/uc?id=1VQ-MCSmqB0Uh5459lr5JVA84aPwcKhIb)

JOB 열의 ABC 순으로 정렬된다. 

```sql
SELECT ENAME, COMM
FROM EMP
ORDER BY COMM;
```
![](https://drive.google.com/uc?id=1LidGNiN8ZpvAcurXEDKXiue1cd3ccW6x)

오름차순에서 NULL값이 가장 처음에 출력됨을 알 수 있다.

```sql
SELECT ENAME, COMM
FROM EMP
ORDER BY COMM DESC;
```

![](https://drive.google.com/uc?id=1MR17zkfbCTnXJ2CPTkCA5dBLUKtUcktI)

내림차순에서 NULL값이 가장 나중에 출력됨을 알 수 있다.

+) 컬럼 명 대신 숫자(인덱스)를 사용할 수도 있다.
복수의 컬럼에 대한 정렬도 가능하다. 

```sql
SELECT ENAME, JOB
FROM EMP
ORDER BY JOB, 1 DESC; /*1번 인덱스 ENAME을 내림차순으로 정렬한다. JOB은 기본값인 오름차순으로 정렬한다. */
```

![](https://drive.google.com/uc?id=1aOZ0fupzRrdnNn2oCnPpRCw-6-lGpgwW)

잘 적용되었음을 알 수 있다.

---

### SQL에서의 NULL

- NULL

SQL에서 NULL이란 아무런 값이 아니라는 뜻

그렇지만 ... 데이터베이스적 관점에서는 없는 값이라기보다는 아직 채워져 있지 않은 값이라고 보는 것이 더 좋다.

NULL값을 포함한 수식은 계산되지 않는다.

```sql
SELECT EMPNO, COMM, COMM * 10 AS COMM2
FROM emp;
```
![](https://drive.google.com/uc?id=1wDi4-Ze-l314jfG799AsR0AbvpYBQ_OW)
NULL값은 연산되지 않고 출력됨을 알 수 있다.

- IFNULL

NULL 값을 특정한 값으로 치환한다.  

값1이 NULL이면 값2로 대치하고 그렇지 않으면 값1을 출력한다. 

```sql
SELECT EMPNO, IFNULL(COMM, 1) * 10 AS COMM
FROM EMP; /* COMM에 NULL값이 있을 경우 해당 NULL값을 1로 치환하고, 거기에 10을 곱하여 COMM으로 출력한다. */
```

![](https://drive.google.com/uc?id=15jGlex6f-jw4K97VNnavGgISQPMIePnP)

NULL이었던 값이 1로 치환되고, 10이 곱해져 10.00으로 계산되어 출력되었음을 알 수 있다.  
원래 0.00 값이 들어있던 7844의 경우 NULL값이 아니기 때문에 곱해지지 않았다. 


---

### SQL에서의 연산자 사용

기본 연산자 → +, -, *, /, () 

문자열에는 연산자를 적용할 수 없다.  
연산자를 컬럼에 사용할 경우, 컬럼명은 그대로 출력된다.

```sql
SELECT DEPTNO, DEPTNO/10, DNAME
FROM DEPT;
```

![](https://drive.google.com/uc?id=1THp4Mwdb_eY-G2Jhjekf8cC2uIkxKAjV)

컬럼에 연산자를 사용하자 컬럼명이 DEPTNO/10로 출력됨을 알 수 있다.  