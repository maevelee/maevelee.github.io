---
title: "CS50 5주차 - 메모리"
excerpt: "메모리 주소 개념을 알아보자."

categories:
  - TIL
tags:
  - CS50
last_modified_at: 2021-02-10T01:41:00-05:00
---

## 메모리 주소

우리가 C로 작성한 변수들은 실제로 컴퓨터 메모리에 저장된다.  

그렇지만, 컴퓨터 메모리에 어떻게 저장되는걸까?  
변수가 메모리 상에 저장된다면 그 메모리의 위치를 나타낼 주소도 있지 않을까?  

메모리 주소를 나타내는 방법과 그 주소를 알아내는 방법, 그 주소에 찾아가는 방법을 알아보자.  
  
  
## 16진수(Hexadecimal)
  
처음에 cs50강의에서 0과 1로 불이 켜지는 트랜지스터를 통해 2진수를 배웠다.  

하지만, 컴퓨터과학에서는 숫자를 10진수나 2진수 대신 **16진수**로 표현하는 경우가 많다. 이진수는 수가 너무 커지는 경향이 있기 때문이다.  
예를 들어 1024라는 수는 십진수로 4자리밖에 안되지만 이진수로는 10000000000이 되어 무려 11자리나 된다. 이렇게 이진수로 나타내면 읽기 번거롭기 때문에, 16진법의 사용이 선호된다.
  
 
만약 16진수를 사용하지 않고 "A, B, C" 각 문자를 출력한다고 가정해보자.  

ASCII 코드에 의해 "A, B, C"각 문자는 10진수로 65, 66, 67에 해당한다. 컴퓨터는 10진수를 이해할 수 없으므로 이를 2진수로 표현하면 "01000001 01000010 01000011"이 된다. 물론 컴퓨터는 이를 이해하지만, 이진수 표현 방법은 사람들의 입장에서 읽기 번거롭다.  

위 문자의 ASCII 코드를 16진수로 표현하면 0x41, 0x42, 0x43으로 2진수보다 훨씬 간단하게 표현된다. 

또한 컴퓨터는 8개의 비트가 모인 바이트 단위로 정보를 표현한다. **2개의 16진수는 1Byte의 2진수로 변환**할 수 있으므로 정보를 표현하기가 매우 유용하다.

### 2진수 표기 방법
  

10진수를 16진수로 표기하는 방법은 간단하다. 10진수를 16으로 곱하거나 나누어 주면 된다.  
  

하지만 우리가 일상적으로 쓰는 10진법의 최대 숫자는 1,2,3,4,5,6,7,8,9,10 총 열 개다. 따라서 사람들은 16진수 표현을 위해 숫자 6개를 알파벳을 이용했다. 즉,  10에 대응되는 것이 A,B,C,D,E,F이다. (컴퓨터는 숫자를 0부터 세기 때문에 F는 16이 아닌 15이다.)  
  
  
**158 = 9 x 16 + 14 = 0x9E**
  
  
158을 16으로 나누면 9.875가 나온다.  

158은 16 x 9이며, 16 x 9로 나눠진 값인 144와 158의 차는 14이다. 14는 16진법으로 e에 해당한다. 따라서, 158을 16진법으로 표기하면 0x9e이다. 16진법 앞에 오는 0x는 이 숫자가 16진법으로 표기되었음을 알리는 방법이다.  
  
  
  
![](https://imageshack.com/i/pobBdhvxp){: .align-center}
  


255 216 255 각 숫자를 10진수, 2진수, 16진수로 나타내면 위 그림과 같다.  
  

## 메모리 주소
  

정수형 변수 n에 50이라는 값을 저장하고 출력한다고 생각해보자. 이 n이라는 값은 int 타입이므로, 우리 컴퓨터의 메모리 어딘가에 4바이트 만큼의 자리를 차지하며 저장되어 있을 것이다.  
  

* * *
  
* bool: 불리언, 1바이트  
* char: 문자, 1바이트  
* int: 정수, 4바이트  
* float: 실수, 4바이트  
* long: (더 큰) 정수, 8바이트  
* double: (더 큰) 실수, 8바이트  
* string: 문자열, ?바이트  
  
* * *  
  
이 n은 마치 아래 그림과 같은 모습으로 저장되어 있을 것이다.  
  


![](https://imageshack.com/i/pmGm5Jn7p){: .align-center}  
  
  
50을 메모리 어딘가에 저렇게 저장하고 우리가 쉽게 쓸 수 있도록 이 값에 n이라는 변수명을 지정해준 상태이다.  
  
C를 사용하면 이 n이 메모리 상 어디에 저장되어 있는지 그 위치를 알 수 있다.   
변수의 **메모리상 주소**를 받기 위해서는 & 이라는 연산자를 사용할 수 있다.
  

```c

#include<stdio.h>

int main(void)
{
    int n = 50;
    printf("%p\n",&n); #%p: pointer, 16진수로 출력 &n: 변수 n의 메모리 주소 출력
}
```
   

위 코드를 실행하면 0x로 시작하는 값을 받을 수 있다. 이것이 바로 변수 n이 16진법으로 표현된 메모리의 주소이다. 
  
  
이번에는 반대로 연산자를 이용해 n에 담긴 값인 50을 출력해보자.

메모리 주소에 있는 **실제 값**을 얻기 위해선 * 연산자를 사용해야 한다. * 연산자는 "그 주소로 가줘"라는 의미를 갖는다. 
  
  

```c
#include<stdio.h>

int main(void)
{
    int n = 50;
    printf("%i\n",*&n); #int 형태로 저장된 변수를 출력해라, 변수 n의 주소를 찾고 그 주소로 가라.
}
``` 
  
  

위 코드는 먼저 &연산자로 n의 메모리상 주소를 얻고 * 연산자로 그 주소에 해당하는 값을 얻어와 출력한 것이므로 결국 '50' 이라는 값이 출력된다.  


